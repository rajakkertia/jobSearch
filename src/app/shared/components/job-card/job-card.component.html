<div
  class="relative flex flex-col sm:flex-row gap-4 p-4 border rounded-xl shadow-md bg-white hover:shadow-lg transition-shadow duration-200"
>
  <!-- Employer Logo -->
  <!-- Company Logo or Initials -->
  <div
    class="w-16 h-16 flex items-center justify-center border rounded-md bg-gray-100 text-gray-700 font-semibold text-sm"
  >
    @if (job.employer_logo) {
    <img
      [src]="job.employer_logo"
      [alt]="job.employer_name"
      class="w-full h-full object-contain p-1"
    />
    } @else {
    {{ getInitials(job.employer_name) }}
    }
  </div>

  <!-- Job Info -->
  <div class="flex-1">
    <div class="flex justify-between items-start">
      <!-- Title -->
      <a
        [routerLink]="['/jobs', job.job_id]"
        class="text-lg font-semibold text-blue-700 hover:underline"
      >
        {{ job.job_title }}
      </a>

      <!-- Bookmark Button -->
      <button
        (click)="toggleBookmark()"
        class="ml-2 transition-transform duration-150 active:scale-90"
        [attr.aria-label]="isBookmarked() ? 'Remove bookmark' : 'Add bookmark'"
      >
        <svg
          *ngIf="isBookmarked()"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          class="w-5 h-5 text-yellow-500 transition-opacity duration-200"
          viewBox="0 0 24 24"
        >
          <path
            d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"
          />
        </svg>

        <svg
          *ngIf="!isBookmarked()"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          stroke="currentColor"
          class="w-5 h-5 text-gray-400 transition-opacity duration-200"
          viewBox="0 0 24 24"
        >
          <path
            d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"
          />
        </svg>
      </button>
    </div>

    <!-- Meta Info -->
    <p class="text-sm text-gray-600 mt-1">
      {{ job.employer_name }} â€“ {{ job.job_city }}, {{ job.job_country }}
    </p>

    <!-- Description Preview -->
    <p
      class="mt-2 text-sm text-gray-700"
      [innerHTML]="job.job_description | slice : 0 : 200"
    ></p>
  </div>
</div>
